<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=0">
    <title>203Garage｜the vintage store</title>
    <meta name="description" content="203Garage｜Detail Page">
    <meta name="keywords" content="vintage, 빈티지샵, 빈티지, 중고매장, 중고 옷 팔기">

    <meta property="og:type" content="website">
    <!--
    <meta property="og:url" content="https://example.com/page.html">
    -->
    <meta property="og:title" content="203Garage｜the vintage store">
    <!--
        <meta property="og:image" content="https://example.com/image.jpg">
    -->
    <meta property="og:description" content="203Garage｜Detail Page">
    <meta property="og:site_name" content="203Garage｜the vintage store">
    <meta property="og:locale" content="ko_KR">

    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./style.css">

    <script src="./zoomDisabler.js" defer></script>
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>

  <script>
    const firebaseConfig = {
        apiKey: "AIzaSyCyOKfpP4iWe6ruzCZdlFU-A1_M6-o_4ZU",
        authDomain: "garage-a3390.firebaseapp.com",
        projectId: "garage-a3390",
        storageBucket: "garage-a3390.appspot.com",
        messagingSenderId: "701651792962",
        appId: "1:701651792962:web:3db7b2ce426ebb878169db"
        };

        // initialize Firebase
      firebase.initializeApp(firebaseConfig);
  </script>

    <!--noise Background-->
    <div class="background"></div>

    <!--nav Bar-->
    <div id="nav"></div>
    <script>
      $("#nav").load("nav.html");
    </script>

    <!--protection Margin-->
    <div class="protMarginTop"></div>
    <div class="protMarginBottom"></div>

    <!--container-->
    <div class="container">

      <div class="detailGrid">
        <div class="detailImageContainer">
          <div class="detailImage" style="background-image: url(``)"></div>
        </div>
        <div class="productDetailBrand"></div>
        <div class="productDetailSalerName"></div>
        <div class="productDetailCategory"></div>
        <div class="productDetailSize"></div>
        <div class="productDetailDetail"></div>
        <div class="productDetailPrice">KRW</div>

        <div class="detailBtn"><button>Chat</button><button>Edit</button></div>
      </div>    

    </div>

    <script>
      const db = firebase.firestore();

      function priceToString(price) {
      return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      }

      // detail Loading Method
      var queryStream = new URLSearchParams(window.location.search);

      db.collection("product")
        .doc(queryStream.get("id"))
        .get()
        .then((result) => {
          console.log(result.data());

          $(".detailImage").css("background-image", `url(${result.data().image})`);
          $(".productDetailBrand").html(result.data().brand);
          $(".productDetailSalerName").html("Saler name: "+result.data().salerName);
          $(".productDetailCategory").html("Category: "+result.data().category);
          $(".productDetailSize").html("Size: "+result.data().size);
          $(".productDetailDetail").html(result.data().detail);
          $(".productDetailPrice").html(priceToString(result.data().price)+" KRW");

        })
    </script>

</body>
</html>